function _0xd882(_0x1974f7,_0x35e910){const _0x27897d=_0x2789();return _0xd882=function(_0xd8826c,_0x2b679b){_0xd8826c=_0xd8826c-0x177;let _0x1f5ec0=_0x27897d[_0xd8826c];return _0x1f5ec0;},_0xd882(_0x1974f7,_0x35e910);}function _0x2789(){const _0x2c9ac5=['length','53660blsHRc','You\x20are\x20now\x20registered,\x20please\x20check\x20your\x20email\x20to\x20verify\x20your\x20account','error_msg','../lib/auth','624772DWrRNz','passport','get','express','9xOwGDf','Password\x20must\x20contain\x20at\x20least\x206\x20characters','A\x20user\x20with\x20the\x20same\x20Email\x20already\x20exists','31572swpMai','../MongoDB/function','redirect','verify','/users/register','4037NaHiDz','382798gICjaV','Sorry.\x20A\x20user\x20with\x20that\x20username\x20already\x20exists.\x20Please\x20use\x20another\x20username!','14TNPMRR','hostname','local','flash','authenticate','626mKgkPy','Sign\x20up\x20successful.\x20Please\x20login\x20to\x20use\x20our\x20service.','query','/users/login','/signup','/users/signup','Invalid\x20activation\x20token','Sorry.\x20A\x20user\x20with\x20that\x20email\x20address\x20already\x20exists.\x20Please\x20use\x20another\x20email!','Router','success_msg','../lib/email','jsonwebtoken','logout','Password\x20and\x20Password\x20confirmation\x20are\x20not\x20the\x20same','1109rpTQDV','exports','body','signup','A\x20user\x20with\x20the\x20same\x20Username\x20already\x20exists','login','686UvTIfs','logout\x20success','36ZyYeYD','2160580qsHRSg','3562008NdnjgQ','/login','post','456mXelmU','render','../lib/functions','/logout'];_0x2789=function(){return _0x2c9ac5;};return _0x2789();}const _0x312cad=_0xd882;(function(_0x20f8f1,_0xb955f4){const _0x5ac29c=_0xd882,_0x188ada=_0x20f8f1();while(!![]){try{const _0x195ba4=parseInt(_0x5ac29c(0x17f))/0x1*(-parseInt(_0x5ac29c(0x1a9))/0x2)+parseInt(_0x5ac29c(0x199))/0x3*(-parseInt(_0x5ac29c(0x195))/0x4)+-parseInt(_0x5ac29c(0x191))/0x5*(-parseInt(_0x5ac29c(0x18c))/0x6)+-parseInt(_0x5ac29c(0x1a4))/0x7*(-parseInt(_0x5ac29c(0x189))/0x8)+parseInt(_0x5ac29c(0x187))/0x9*(-parseInt(_0x5ac29c(0x188))/0xa)+parseInt(_0x5ac29c(0x1a1))/0xb*(-parseInt(_0x5ac29c(0x19c))/0xc)+-parseInt(_0x5ac29c(0x1a2))/0xd*(-parseInt(_0x5ac29c(0x185))/0xe);if(_0x195ba4===_0xb955f4)break;else _0x188ada['push'](_0x188ada['shift']());}catch(_0x3c892a){_0x188ada['push'](_0x188ada['shift']());}}}(_0x2789,0x7aebb),require('../settings'));const express=require(_0x312cad(0x198)),router=express[_0x312cad(0x179)](),passport=require(_0x312cad(0x196)),jwt=require(_0x312cad(0x17c)),{createActivationToken,getHashedPassword,randomText}=require(_0x312cad(0x18e)),{checkEmail,checkUsername,addUser}=require(_0x312cad(0x19d)),{notAuthenticated}=require(_0x312cad(0x194)),sendEmail=require(_0x312cad(0x17b));router[_0x312cad(0x197)]('/login',notAuthenticated,(_0x204d9f,_0x8d80ab)=>{const _0x1cda56=_0x312cad;_0x8d80ab[_0x1cda56(0x18d)](_0x1cda56(0x184),{'layout':_0x1cda56(0x184)});}),router['post'](_0x312cad(0x18a),async(_0xb40282,_0x27443d,_0x2e3694)=>{const _0x81c406=_0x312cad;passport[_0x81c406(0x1a8)](_0x81c406(0x1a6),{'successRedirect':'/docs','failureRedirect':_0x81c406(0x1ac),'failureFlash':'<div\x20class=\x22alert\x20alert-danger\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20aria-hidden=\x22true\x22\x20class=\x22close\x22\x20data-dismiss=\x22alert\x22\x20aria-label=\x22Close\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22tim-icons\x20icon-simple-remove\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span><b>Username\x20or\x20password\x20not\x20found</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'})(_0xb40282,_0x27443d,_0x2e3694);}),router[_0x312cad(0x197)]('/activation/',async(_0x238fdf,_0x54e992)=>{const _0x4edbbc=_0x312cad;let _0x3e31e=_0x238fdf[_0x4edbbc(0x1ab)]['id'];!_0x3e31e&&(_0x238fdf[_0x4edbbc(0x1a7)](_0x4edbbc(0x193),_0x4edbbc(0x177)),_0x54e992['redirect']('/users/register')),await jwt[_0x4edbbc(0x19f)](_0x3e31e,ACTIVATION_TOKEN_SECRET,async(_0x4b10db,_0x3b3c5f)=>{const _0x31f379=_0x4edbbc;if(_0x4b10db)_0x238fdf[_0x31f379(0x1a7)](_0x31f379(0x193),_0x31f379(0x177)),_0x54e992[_0x31f379(0x19e)](_0x31f379(0x1a0));else{const {apikey:_0x2ecf95,username:_0x5baea4,email:_0x4bbed0,password:_0x435051}=_0x3b3c5f;let _0x1b0141=await checkUsername(_0x5baea4),_0x3a5608=await checkEmail(_0x4bbed0);if(_0x1b0141)_0x238fdf[_0x31f379(0x1a7)](_0x31f379(0x193),_0x31f379(0x1a3)),_0x54e992[_0x31f379(0x19e)](_0x31f379(0x1ae));else _0x3a5608?(_0x238fdf[_0x31f379(0x1a7)]('error_msg',_0x31f379(0x178)),_0x54e992[_0x31f379(0x19e)]('/users/signup')):(addUser(_0x5baea4,_0x4bbed0,_0x435051,_0x2ecf95),_0x238fdf[_0x31f379(0x1a7)](_0x31f379(0x17a),_0x31f379(0x1aa)),_0x54e992['redirect'](_0x31f379(0x1ac)));}});}),router[_0x312cad(0x197)](_0x312cad(0x1ad),notAuthenticated,(_0x466d00,_0x273072)=>{const _0x54cf8c=_0x312cad;_0x273072[_0x54cf8c(0x18d)]('signup',{'layout':_0x54cf8c(0x182)});}),router[_0x312cad(0x18b)](_0x312cad(0x1ad),async(_0x5e2423,_0x5ce59f)=>{const _0x1c735c=_0x312cad;try{let {email:_0x4686a8,username:_0x39a5c8,pass:_0x33e02b,pass2:_0x36b20d}=_0x5e2423[_0x1c735c(0x181)];if(_0x33e02b[_0x1c735c(0x190)]<0x6||_0x36b20d<0x6)return _0x5e2423['flash'](_0x1c735c(0x193),_0x1c735c(0x19a)),_0x5ce59f[_0x1c735c(0x19e)](_0x1c735c(0x1ae));if(_0x33e02b===_0x36b20d){let _0x2cfcf9=await checkUsername(_0x39a5c8),_0x138ec1=await checkEmail(_0x4686a8);if(_0x138ec1)return _0x5e2423[_0x1c735c(0x1a7)]('error_msg',_0x1c735c(0x19b)),_0x5ce59f[_0x1c735c(0x19e)](_0x1c735c(0x1ae));if(_0x2cfcf9)return _0x5e2423['flash'](_0x1c735c(0x193),_0x1c735c(0x183)),_0x5ce59f[_0x1c735c(0x19e)]('/users/signup');else{let _0x109da7=getHashedPassword(_0x33e02b),_0x5e3259=randomText(0xa);const _0x2d01b0={'apikey':_0x5e3259,'username':_0x39a5c8,'email':_0x4686a8,'password':_0x109da7},_0x176c35=createActivationToken(_0x2d01b0),_0x168ad9='https://'+_0x5e2423[_0x1c735c(0x1a5)]+'/users/activation?id='+_0x176c35;return await sendEmail['inboxGmailRegist'](_0x4686a8,_0x168ad9),_0x5e2423[_0x1c735c(0x1a7)](_0x1c735c(0x17a),_0x1c735c(0x192)),_0x5ce59f[_0x1c735c(0x19e)](_0x1c735c(0x1ac));}}else return _0x5e2423[_0x1c735c(0x1a7)](_0x1c735c(0x193),_0x1c735c(0x17e)),_0x5ce59f[_0x1c735c(0x19e)](_0x1c735c(0x1ae));}catch(_0x82332e){console['log'](_0x82332e);}}),router[_0x312cad(0x197)](_0x312cad(0x18f),(_0x413271,_0x4ab602)=>{const _0x5b4933=_0x312cad;_0x413271[_0x5b4933(0x17d)](),_0x413271['flash'](_0x5b4933(0x17a),_0x5b4933(0x186)),_0x4ab602['redirect'](_0x5b4933(0x1ac));}),module[_0x312cad(0x180)]=router;